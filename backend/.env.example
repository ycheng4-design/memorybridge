# ============================================================
# MemoryBridge — Backend Environment Variables
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# IMPORTANT: .env and serviceAccount.json must NEVER be
# committed to version control. Both are in .gitignore.
#
# Verify before every push:
#   git status           (confirm neither file appears)
#   git diff HEAD        (confirm no secrets in diff)
# ============================================================

# ------------------------------------------------------------
# Firebase — Service Account
# Download from: Firebase Console → Project Settings →
#   Service Accounts → Generate new private key
# Save the downloaded file as: backend/serviceAccount.json
# ------------------------------------------------------------

# Path to the service account JSON file (relative to backend/)
FIREBASE_SERVICE_ACCOUNT_PATH=./serviceAccount.json

# Firebase Storage bucket (without gs:// prefix)
# Found in: Firebase Console → Storage → Files (top bar)
FIREBASE_STORAGE_BUCKET=memorybridge-h4h-2026.appspot.com

# ------------------------------------------------------------
# ElevenLabs
# API key from: https://elevenlabs.io/app/settings/api-keys
# Agent ID from: https://elevenlabs.io/app/conversational-ai
# ------------------------------------------------------------
ELEVENLABS_API_KEY=

ELEVENLABS_API_BASE=https://api.elevenlabs.io/v1

# ------------------------------------------------------------
# AMD Developer Cloud
# Apply at: https://devcloud.amd.com (3-business-day approval)
# Leave AMD_API_KEY empty to fall back to CPU inference.
# ------------------------------------------------------------
AMD_API_KEY=

# AMD MI300X inference endpoint
# Leave empty to use CPU fallback (sentence-transformers locally)
AMD_ENDPOINT=https://api.amd.com/v1

# Model used for photo/text embedding on AMD MI300X
AMD_EMBEDDING_MODEL=clip-vit-large-patch14

# ------------------------------------------------------------
# Flask
# ------------------------------------------------------------
FLASK_ENV=development

# Set to 1 to enable debug mode (auto-reload, detailed errors)
FLASK_DEBUG=1

# Secret key for session signing
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=change_me_to_a_random_32_char_secret

# ------------------------------------------------------------
# Upload Limits
# ------------------------------------------------------------
# Maximum size per uploaded file in megabytes
MAX_UPLOAD_SIZE_MB=10

# Maximum number of photos per memory
MAX_PHOTOS=30

# ------------------------------------------------------------
# AI / Similarity Search
# ------------------------------------------------------------
# Cosine similarity threshold for memory matching (0.0 - 1.0)
# Lower = more results but less precise; higher = fewer but more precise
SIMILARITY_THRESHOLD=0.7

# ------------------------------------------------------------
# CORS
# Comma-separated list of allowed origins for the Flask API
# Include both localhost and the Firebase Hosting URL
# ------------------------------------------------------------
CORS_ORIGINS=http://localhost:5173,https://memorybridge-h4h-2026.web.app
